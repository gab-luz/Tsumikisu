# Tsumikisu i3 integration helpers
set $mod Mod4
# Adjust these output names with `xrandr` to match your monitors
set $primary_output eDP-1
set $secondary_output HDMI-A-1

set $tsumikisu_dir "{{TSUMIKISU_DIR}}"
set $launcher_cmd "{{LAUNCHER_SCRIPT}}"
set $hotkeys_cmd "{{HOTKEYS_SCRIPT}}"
set $halo_color "{{HALO_COLOR}}"

# Launch Tsumikisu after i3 starts so the bar and dock are ready
exec --no-startup-id bash -c "sleep 3 && $tsumikisu_dir/init.sh -start"

# Super (Mod4) shortcuts for the new shell
bindsym --release $mod exec --no-startup-id "$launcher_cmd"
bindsym $mod+space exec --no-startup-id "$launcher_cmd"
bindsym Mod1+F1 exec --no-startup-id "$hotkeys_cmd"
bindsym $mod+q kill
bindsym $mod+c exec --no-startup-id code
bindsym $mod+t exec --no-startup-id kitty

# Workspace shortcuts that respect both monitors
bindsym $mod+1 workspace number 1
bindsym $mod+2 workspace number 2
bindsym $mod+3 workspace number 3
bindsym $mod+4 workspace number 4
bindsym $mod+5 workspace number 5
bindsym $mod+6 workspace number 6
bindsym $mod+7 workspace number 7
bindsym $mod+8 workspace number 8
bindsym $mod+9 workspace number 9

# Dual-monitor workspace affinities (update outputs above if needed)
# Keep comments on their own line to avoid parser edge-cases.
workspace 1 output $primary_output
workspace 2 output $secondary_output
workspace 3 output $primary_output
workspace 4 output $secondary_output
workspace 5 output $primary_output
workspace 6 output $secondary_output
workspace 7 output $primary_output
workspace 8 output $secondary_output
workspace 9 output $primary_output

# Halo styling
for_window [class=".*"] border pixel 3
client.focused border_color $halo_color $halo_color $halo_color $halo_color
client.focused_inactive border_color $halo_color $halo_color $halo_color $halo_color
